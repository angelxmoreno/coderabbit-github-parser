# CodeRabbit Review Analysis Template

Use this prompt template with CodeRabbit review comments generated by:

```bash
bun pr:coderabbit <PR_NUMBER> --format markdown > review-comments/pr<PR_NUMBER>.md
```

## Prompt Template

```
I need your help analyzing and addressing CodeRabbit review comments for PR #<PR_NUMBER>. Please review the CodeRabbit comments from the file review-comments/pr<PR_NUMBER>.md and help me understand and implement the suggested fixes.

IMPORTANT: Please first analyze each comment critically - CodeRabbit AI can sometimes be wrong or make suggestions that don't apply to our specific context. Don't assume all comments are valid.

Please help me with the following:

1. **Comment Validation**: For each comment, first determine if you:
   - **Agree**: The comment is valid and should be addressed
   - **Disagree**: The comment is incorrect, not applicable, or based on flawed assumptions
   - **Partially Agree**: Some aspects are valid but others are not

   Provide reasoning for your assessment.

2. **Prioritization**: For comments you agree with (fully or partially), suggest which ones should be addressed first based on:
   - Severity (critical > major > minor > info)
   - Impact on code quality and maintainability
   - Potential for introducing bugs or security issues

3. **Implementation Guidance**: For each comment you recommend addressing:
   - Explain the issue in simple terms
   - Provide specific code changes or implementation steps
   - If there are AI prompts included, use them as guidance for the implementation approach

4. **Code Quality Assessment**:
   - Are there any patterns or recurring issues across the valid comments?
   - What do the valid comments suggest about the overall code quality?
   - Are there any architectural or design improvements implied by the comments?

5. **Implementation Plan**:
   - Suggest a logical order for implementing the fixes
   - Identify any dependencies between different fixes
   - Estimate effort level (low/medium/high) for each fix

6. **Analysis Summary**: Create a structured summary in this format and save it as review-comments/pr<PR_NUMBER>-analysis.md:

```markdown
# CodeRabbit Review Analysis - PR #<PR_NUMBER>

## Comment Assessment Summary

| # | Comment Title | Agreement | Reason | Priority | Effort |
|---|---------------|-----------|--------|----------|---------|
| 1 | [Comment Title] | Agree/Disagree/Partial | [Brief reason] | High/Med/Low | Low/Med/High |
| 2 | [Comment Title] | Agree/Disagree/Partial | [Brief reason] | High/Med/Low | Low/Med/High |

## Recommended Actions

### High Priority
- [List of agreed-upon high priority items]

### Medium Priority
- [List of agreed-upon medium priority items]

### Low Priority
- [List of agreed-upon low priority items]

### Rejected Comments
- [List of disagreed comments with reasoning]

## Implementation Order
1. [First fix to implement]
2. [Second fix to implement]
3. [etc...]
```

Please be specific and actionable in your recommendations. If you need to see the current code to provide better
guidance, let me know which files to share.

```

## Usage Examples

### Basic Analysis

```bash
# Generate CodeRabbit comments and analyze
bun pr:coderabbit 123 --format markdown > review-comments/pr123.md
# Then use the prompt template above with the generated markdown
```

### Focused Analysis (Critical Issues Only)

```bash
# Get only critical issues for immediate attention
bun pr:coderabbit 123 --severity critical --format markdown > review-comments/pr123-critical.md
# Use prompt: "Focus only on critical security and functionality issues..."
```

### Type-Specific Analysis

```bash
# Get only suggestions for code improvements
bun pr:coderabbit 123 --type suggestion --format markdown > review-comments/pr123-suggestions.md
# Use prompt: "Help me implement these code improvement suggestions..."
```

### Comprehensive Review

```bash
# Include all comments (resolved and outdated) for complete context
bun pr:coderabbit 123 --include-resolved --include-outdated --format markdown > review-comments/pr123-complete.md
# Use prompt: "Provide a comprehensive analysis including historical context..."
```

## Prompt Variations

### For New Team Members

```
I'm new to this codebase and would like help understanding these CodeRabbit review comments. Please:
1. Explain any domain-specific or architectural concepts mentioned
2. Provide context for why each issue matters in this codebase
3. Suggest learning resources if complex patterns are involved
4. Prioritize fixes that will help me learn the codebase patterns

<PASTE_CODERABBIT_MARKDOWN_OUTPUT_HERE>
```

### For Urgent Fixes

```
I need to quickly address the most critical issues from this CodeRabbit review before deployment. Please:
1. Identify any blocking issues that could cause runtime failures
2. Flag security vulnerabilities or data integrity risks
3. Provide minimal, safe fixes that don't require architectural changes
4. Suggest which non-critical issues can be deferred to future PRs

<PASTE_CODERABBIT_MARKDOWN_OUTPUT_HERE>
```

### For Code Quality Improvement

```
I want to use these CodeRabbit comments to improve overall code quality. Please:
1. Identify systemic issues that appear across multiple comments
2. Suggest refactoring opportunities that address multiple issues at once
3. Recommend coding standards or patterns that would prevent similar issues
4. Propose architectural improvements suggested by the feedback patterns

<PASTE_CODERABBIT_MARKDOWN_OUTPUT_HERE>
```

### For Learning and Mentoring

```
Please use these CodeRabbit comments as teaching examples. For each comment:
1. Explain the underlying programming principle or best practice
2. Show before/after code examples where possible
3. Explain the potential consequences of not addressing the issue
4. Suggest how to prevent similar issues in future development

<PASTE_CODERABBIT_MARKDOWN_OUTPUT_HERE>
```

## Tips for Effective Use

1. **Include Context**: Always mention the PR number and any specific concerns you have
2. **Specify Your Role**: Let the AI know if you're a beginner, senior developer, or code reviewer
3. **Set Constraints**: Mention any limitations (time, architectural constraints, team policies)
4. **Ask for Examples**: Request specific code snippets and before/after comparisons
5. **Follow Up**: After implementing fixes, you can paste the updated code for verification

## Integration with Development Workflow

1. **Pre-Review**: Use this before addressing CodeRabbit comments to understand priorities
2. **During Implementation**: Reference AI prompts from CodeRabbit comments for detailed guidance
3. **Post-Implementation**: Validate your fixes by asking the AI to review your changes
4. **Knowledge Sharing**: Use analyzed comments to create team documentation or coding guidelines